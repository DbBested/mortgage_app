<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Barcus and Neils Ko.</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='fontawesome-5.5/css/all.min.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='slick/slick.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='slick/slick-theme.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='magnific-popup/magnific-popup.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/tooplate-infinite-loop.css') }}" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <style>
        #map {
    height: 100%; /* Adjust the height to your preference */
    width: 100%; /* Full width of the container */
}
        .legend {
    padding: 6px 8px;
    font: 14px Arial, Helvetica, sans-serif;
    background: white;
    background: rgba(255,255,255,0.8);
    box-shadow: 0 0 15px rgba(0,0,0,0.2);
    border-radius: 5px;
    line-height: 24px;
    color: #555;
}
.legend i {
    width: 18px;
    height: 18px;
    float: left;
    margin-right: 8px;
    opacity: 0.7;
}
#gallery {
    color: #555; /* This is a light black/gray color */
}
    </style>
<!--
Tooplate 2117 Infinite Loop
https://www.tooplate.com/view/2117-infinite-loop
-->

  </head>
  <body>    
    <!-- Hero section -->
    <section id="infinite" class="text-white tm-font-big tm-parallax">
      <!-- Navigation -->
      <nav class="navbar navbar-expand-md tm-navbar" id="tmNav">              
        <div class="container">   
          <div class="tm-next">
            <a href="{{ url_for('index') }}" class="navbar-brand">BaNK</a>
          </div>             
          
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <i class="fas fa-bars navbar-toggler-icon"></i>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ml-auto">
              <li class="nav-item">
                  <a class="nav-link tm-nav-link" href="{{ url_for('index') }}">Home</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link tm-nav-link" href="{{ url_for('about') }}">About</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link tm-nav-link" href="{{ url_for('loan_application') }}">Mortgage Application</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link tm-nav-link" href="{{ url_for('map_view') }}">Map View</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link tm-nav-link" href="{{ url_for('testimonials') }}">Car Loan</a>
              </li>
              <li class="nav-item">
                <a class="nav-link tm-nav-link" href="{{ url_for('index_2008') }}">2008</a>
            </li>                      
            </ul>
          </div>        
        </div>
      </nav>
      
      
      
      <div class="text-center tm-hero-text-container">
        <div class="tm-hero-text-container-inner">
            <h2 class="tm-hero-title">Barcus and Neils Ko</h2>
            <p class="tm-hero-subtitle">
                Private loans for the best interest rates
              <br>
            </p>
        </div>        
      </div>
      <section id="gallery" class="tm-section-pad-top">
        <div class="container tm-container-gallery">
          <div class="row">
            <div class="text-center col-12">
                <h2 class="tm-text-primary tm-section-title mb-4">Map View</h2>
                <p class="mx-auto tm-section-desc">
                  Here is our map view for our loans. Barcus and Neils prides itself on maintaining the social order of the times. Our lending map ensures the right sort of people in the right sort of neighborhoods. We take it upon ourselves to uphold the standards that have built this great nation. (Sourced at https://dsl.richmond.edu/panorama/redlining/data)
                </p>
            </div>            
          </div>
        </div>
      </section>
      <div id="map"></div>
    <script>
        var map = L.map('map').setView([42.3601, -71.0589], 12);

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: 'Â© OpenStreetMap contributors'
        }).addTo(map);

        // Load the GeoJSON file
        fetch('/static/mappinginequality%20(1).json') // Adjusted path with URL encoding for the space character
    .then(function(response) {
        return response.json();
    })
    .then(function(data) {
        L.geoJSON(data, {
    style: function(feature) {
        var category = feature.properties.category; // Hypothetical 'category' property
        switch (category) {
            case 'Hazardous': return {color: "#d73027"}; // Red for danger
case 'Definitely Declining': return {color: "#fc8d59"}; // Orange for warning
case 'Best': return {color: 	"#89CFF0"}; // Dark green for optimal
case 'Still Desirable': return {color: "#66bd63"}; // Lighter green for good, but not best

            // ... other categories and their colors
            default: return {color: "#ffffff"}; // Default color if category is not found
        }
    }
}).addTo(map);
var legend = L.control({ position: 'bottomright' });

legend.onAdd = function (map) {
    var div = L.DomUtil.create('div', 'info legend'),
        grades = ['Hazardous', 'Definitely Declining', 'Still Desirable', 'Best'], // labels
        colors = ['#d73027', '#fc8d59', '#66bd63', '#89CFF0']; // corresponding colors

    // loop through our density intervals and generate a label with a colored square for each interval
    for (var i = 0; i < grades.length; i++) {
        div.innerHTML +=
            '<i style="background:' + colors[i] + '"></i> ' +
            grades[i] + '<br>';
    }

    return div;
};

legend.addTo(map);


    });
    </script>
  </body>
</html>